(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[16],{125:function(e,t,n){e.exports=n.p+"static/media/1.806bfa90.jpg"},418:function(e,t,n){},419:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);n(76);var a,i,l,o,c,r,s,u,p=n(77),f=n.n(p),d=n(12),h=n(13),m=n(16),b=n(14),g=n(15),v=(n(418),n(0)),y=n.n(v),O=n(67),j=n(64),C=(n(419),n(125)),E=n.n(C),w=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).getInitPic=function(){j.a.post("/react/getlastPic").then((function(t){t.data.type?e.setState({pic:t.data.result.pic.replace(/public/,j.b)}):e.setState({pic:E.a})}))},e.handleClick=function(){e.fileImg.click()},e.handleChange=function(){console.log("\u6587\u4ef6\u4e0a\u4f20");var t=e.fileImg.files[0];console.log(t);var n=new FormData;n.append("avatar",t),Object(j.a)({url:"/react/uploadImg",method:"POST",data:n}).then((function(t){if(t.data.type){var n=t.data.pic.replace(/public/,j.b),a=JSON.stringify({mobile:t.data.mobile,pic:n});localStorage.userInfo=a,e.setState({pic:n})}else localStorage.userInfo=""}))},e.state={pic:n(125)},e}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.userInfo;e&&(e=JSON.parse(e)).mobile==sessionStorage.mobile?this.setState({pic:e.pic}):this.getInitPic()}},{key:"render",value:function(){var e=this,t=this.state.pic;return y.a.createElement("div",null,y.a.createElement("img",{src:t,alt:"",className:"touxiang",onClick:this.handleClick}),y.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.handleChange,ref:function(t){return e.fileImg=t}}))}}]),t}(v.Component),k=n(209),S=n(210),x=(n(211),n(128)),I=new(a=function(){function e(){Object(d.a)(this,e),Object(k.a)(this,"count",i,this),Object(k.a)(this,"city",l,this),Object(k.a)(this,"msg",o,this),Object(k.a)(this,"countAdd",c,this),Object(k.a)(this,"countDesc",r,this),Object(k.a)(this,"changeMsg",s,this)}return Object(h.a)(e,[{key:"newCount",get:function(){return 2*this.count}}]),e}(),i=Object(S.a)(a.prototype,"count",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2020}}),l=Object(S.a)(a.prototype,"city",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"\u6b66\u6c49"}}),o=Object(S.a)(a.prototype,"msg",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Object(S.a)(a.prototype,"countAdd",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.count++,console.log(e.count)}}}),Object(S.a)(a.prototype,"newCount",[x.e],Object.getOwnPropertyDescriptor(a.prototype,"newCount"),a.prototype),r=Object(S.a)(a.prototype,"countDesc",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.count-=t}}}),s=Object(S.a)(a.prototype,"changeMsg",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.msg=t}}}),a),P=n(177),N=Object(P.a)(u=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleGotoLogin=function(){n.props.history.push("/login")},n.state={isLogin:!!sessionStorage.token,mobile:null},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.a.post("/react/getMobile").then((function(t){e.setState({mobile:t.data.result})}))}},{key:"render",value:function(){var e=this.state,t=e.isLogin,n=(e.mobile,I.city),a=I.msg,i=I.countAdd,l=I.newCount,o=I.countDesc,c=I.changeMsg;return y.a.createElement("div",null,y.a.createElement(O.a,{title:"\u4e2a\u4eba\u4e2d\u5fc3"}),t&&y.a.createElement("div",null,y.a.createElement("h2",null,"Mine- mine - \u4e2a\u4eba\u4e2d\u5fc3...."),y.a.createElement(w,null)),!t&&y.a.createElement("div",null,y.a.createElement("h2",null,"\u4f60\u8fd8\u6ca1\u767b\u5f55,\u8bf7\u9a6c\u4e0a\u767b\u5f55"),y.a.createElement(f.a,{type:"warning",inline:!0,onClick:this.handleGotoLogin},"\u6211\u8981\u767b\u5f55")),y.a.createElement("div",null,"mobx-----demo---count",I.count,"------\u8ba1\u7b97\u5c5e\u6027--",l),y.a.createElement("div",null,"city===",n),y.a.createElement("div",null,"input===",a),y.a.createElement("hr",null),y.a.createElement(f.a,{type:"warning",inline:!0,onClick:i},"count add"),y.a.createElement(f.a,{type:"warning",inline:!0,onClick:function(){return o(50)}},"\u51cf"),y.a.createElement("p",null,y.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)}})))}}]),t}(v.Component))||u;t.default=N},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(82);var a=n(83),i=n.n(a),l=(n(84),n(85)),o=n.n(l),c=(n(86),n(87)),r=n.n(c),s=(n(65),n(66)),u=n.n(s),p=n(12),f=n(13),d=n(16),h=n(14),m=n(15),b=(n(68),n(0)),g=n.n(b),v=n(64),y=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"handleGoBack",value:function(e){v.c.go(-1)}},{key:"handleGoSearch",value:function(){v.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.show,i=t.search;return g.a.createElement("div",null,g.a.createElement(r.a,{mode:"light",icon:a&&g.a.createElement(u.a,{type:"left"}),onLeftClick:function(){return e.handleGoBack(a)},rightContent:[!i&&g.a.createElement(u.a,{onClick:this.handleGoSearch,key:"0",type:"search",style:{marginRight:"16px"}}),g.a.createElement(C,{scan:this.props.scan,login:this.props.login,key:1})]},n))}}]),t}(b.Component),O=o.a.Item,j=function(e){return g.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},C=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={visible:!1},n.handleVisibleChange=function(e){n.setState({visible:e})},n.onSelect=function(e){console.log(e.props.value),n.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?v.c.push("/login"):"scan"==e.props.value?v.c.push("/scan"):n.showActionSheet()},n.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];i.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"I am description, description, description",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scan,n=e.login;return g.a.createElement(o.a,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!t&&g.a.createElement(O,{key:"4",value:"scan",icon:j("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),g.a.createElement(O,{key:"5",value:"photo",icon:j("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!n&&g.a.createElement(O,{key:"6",value:"login",icon:j("uQIYTFeRrjPELImDRrPt")},g.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},g.a.createElement(u.a,{type:"ellipsis"}))}}]),t}(b.Component)},68:function(e,t,n){},76:function(e,t,n){"use strict";n(62),n(65),n(91)},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(60)),i=d(n(63)),l=d(n(56)),o=d(n(57)),c=d(n(58)),r=d(n(59)),s=d(n(61)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),p=d(n(69)),f=d(n(66));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n},m=/^[\u4e00-\u9fa5]{2}$/,b=m.test.bind(m);function g(e){return"string"===typeof e}function v(e){return g(e.type)&&b(e.props.children)?u.cloneElement(e,{},e.props.children.split("").join(" ")):g(e)?(b(e)&&(e=e.split("").join(" ")),u.createElement("span",null,e)):e}var y=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,l=t.className,o=t.prefixCls,c=t.type,r=t.size,d=t.inline,m=t.disabled,b=t.icon,g=t.loading,y=t.activeStyle,O=t.activeClassName,j=t.onClick,C=h(t,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),E=g?"loading":b,w=(0,s.default)(o,l,(e={},(0,i.default)(e,o+"-primary","primary"===c),(0,i.default)(e,o+"-ghost","ghost"===c),(0,i.default)(e,o+"-warning","warning"===c),(0,i.default)(e,o+"-small","small"===r),(0,i.default)(e,o+"-inline",d),(0,i.default)(e,o+"-disabled",m),(0,i.default)(e,o+"-loading",g),(0,i.default)(e,o+"-icon",!!E),e)),k=u.Children.map(n,v),S=void 0;if("string"===typeof E)S=u.createElement(f.default,{"aria-hidden":"true",type:E,size:"small"===r?"xxs":"md",className:o+"-icon"});else if(E){var x=E.props&&E.props.className,I=(0,s.default)("am-icon",o+"-icon","small"===r?"am-icon-xxs":"am-icon-md");S=u.cloneElement(E,{className:x?x+" "+I:I})}return u.createElement(p.default,{activeClassName:O||(y?o+"-active":void 0),disabled:m,activeStyle:y},u.createElement("a",(0,a.default)({role:"button",className:w},C,{onClick:m?void 0:j,"aria-disabled":m}),S,k))}}]),t}(u.Component);y.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},t.default=y,e.exports=t.default},91:function(e,t,n){}}]);
//# sourceMappingURL=16.64559fb0.chunk.js.map