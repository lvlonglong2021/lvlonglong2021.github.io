{"version":3,"sources":["assets/images/1.jpg","scripts/components/uploadImg/index.js","scripts/mobx/demo.js","scripts/views/mine/index.js","scripts/components/head/index.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/button/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/button/index.js"],"names":["module","exports","UploadImg","getInitPic","axios","post","then","res","data","type","setState","pic","result","replace","baseURL","initPic","handleClick","fileImg","click","handleChange","console","log","file","files","FormData","append","url","method","userInfo","JSON","stringify","mobile","localStorage","state","require","parse","sessionStorage","this","src","alt","className","onClick","style","display","onChange","ref","el","Component","count","observable","action","computed","payload","msg","Mine","observer","props","handleGotoLogin","history","push","isLogin","token","city","demo","countAdd","newCount","countDesc","changeMsg","title","inline","value","e","target","Head","show","go","search","mode","icon","onLeftClick","handleGoBack","rightContent","handleGoSearch","key","marginRight","Pop","scan","login","Item","myImg","visible","handleVisibleChange","onSelect","opt","selected","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","wrapProps","onTouchStart","preventDefault","buttonIndex","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","Object","defineProperty","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames3","React","obj","__esModule","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","_rmcFeedback2","_icon2","__rest","s","t","p","indexOf","getOwnPropertySymbols","i","rxTwoCNChar","isTwoCNChar","test","bind","isString","str","insertSpace","child","children","cloneElement","split","join","createElement","Button","_React$Component","__proto__","getPrototypeOf","apply","arguments","_classnames","_a","prefixCls","size","disabled","loading","activeStyle","activeClassName","restProps","iconType","wrapCls","kids","Children","map","iconEl","rawCls","cls","undefined","role","defaultProps"],"mappings":"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","file":"static/js/16.64559fb0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1.806bfa90.jpg\";","import \"./index.scss\";\r\nimport React ,{ Component } from \"react\";\r\nimport {axios,baseURL}  from \"&\"\r\nimport initPic from \"@/assets/images/1.jpg\"\r\nexport default class UploadImg extends  Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            pic:require(\"@/assets/images/1.jpg\")\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let userInfo = localStorage.userInfo;\r\n        if(userInfo){\r\n            userInfo = JSON.parse(userInfo);\r\n            if(userInfo.mobile==sessionStorage.mobile){\r\n                this.setState({\r\n                    pic:userInfo.pic\r\n                })\r\n            }else{\r\n                this.getInitPic()\r\n            }\r\n        }else{\r\n            this.getInitPic()\r\n        }\r\n    }\r\n\r\n    getInitPic = ()=>{\r\n        axios.post(\"/react/getlastPic\")\r\n        .then(res=>{\r\n            if(!!res.data.type){\r\n                this.setState({\r\n                    pic:res.data.result.pic.replace(/public/,baseURL)\r\n                })\r\n            }else{\r\n                this.setState({\r\n                    pic:initPic\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleClick=()=>{\r\n        this.fileImg.click();\r\n    }\r\n\r\n\r\n    handleChange=()=>{\r\n        console.log(\"文件上传\");\r\n        const file = this.fileImg.files[0];\r\n        console.log(file);\r\n        var data = new FormData();\r\n        data.append(\"avatar\",file);\r\n        \r\n         axios({\r\n            url:\"/react/uploadImg\",\r\n             method:\"POST\",\r\n             data,\r\n         }).then(res=>{\r\n            if(!!res.data.type){\r\n                var pic = res.data.pic.replace(/public/,baseURL);\r\n                const userInfo = JSON.stringify({\r\n                    mobile:res.data.mobile,\r\n                    pic\r\n                })\r\n                localStorage.userInfo = userInfo;\r\n                this.setState({\r\n                    pic\r\n                })\r\n            }else{\r\n                localStorage.userInfo = \"\";\r\n            }\r\n \r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        const {\r\n            pic\r\n        } = this.state; \r\n        return (\r\n            <div>\r\n                <img src={pic} alt=\"\" className=\"touxiang\"  onClick={this.handleClick}   />\r\n                <input type=\"file\" style={{display:'none'}} onChange={this.handleChange}  ref={el=>this.fileImg=el}   />\r\n            </div>\r\n        )\r\n    }\r\n}","import {observable,action,computed,autorun} from  \"mobx\"\r\n\r\nclass Demo{\r\n    @observable count =2020;  //state\r\n    @observable city =\"武汉\";  //state\r\n    @observable msg =\"\";  //state\r\n    \r\n\r\n    @action countAdd=()=>{\r\n        this.count++;\r\n        console.log(this.count)\r\n    }\r\n    //计算属性\r\n    @computed get newCount(){\r\n        return this.count*2;\r\n    }\r\n    @action countDesc=payload=>{\r\n        this.count-=payload\r\n    } \r\n    @action changeMsg=payload=>{\r\n        this.msg=payload\r\n    } \r\n         \r\n}\r\n\r\nexport default new Demo();","import \"./index.scss\"\r\nimport React, {Component} from \"react\"\r\nimport Head from \"~/components/head\"\r\nimport {\r\n    Button\r\n} from \"antd-mobile\"\r\nimport {axios} from \"&\"\r\nimport UploadImg from \"~/components/uploadImg\"\r\n\r\nimport demo from \"~/mobx/demo\"\r\nimport {observer} from \"mobx-react\"\r\n\r\n\r\n@observer   //订阅组件  当里面的数组发生改变就跟着改变   \r\nclass Mine extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isLogin:!!sessionStorage.token,\r\n            mobile:null\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.post(\"/react/getMobile\")\r\n        .then(res=>{\r\n            this.setState({\r\n                mobile:res.data.result\r\n            })\r\n        })\r\n    }\r\n\r\n    handleGotoLogin=()=>{\r\n        this.props.history.push(\"/login\");\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            isLogin,\r\n            mobile\r\n        } = this.state;\r\n        const{\r\n            city,\r\n            msg,\r\n            countAdd,\r\n            newCount,\r\n            countDesc,\r\n            changeMsg\r\n        }=demo\r\n        return (\r\n            <div>\r\n                <Head title=\"个人中心\"></Head>\r\n                {\r\n                    isLogin&&<div>\r\n                        <h2>Mine- mine - 个人中心....</h2>\r\n                    <UploadImg></UploadImg>\r\n                       \r\n                    </div>\r\n                }\r\n                {\r\n                    !isLogin&&<div>\r\n                        <h2>你还没登录,请马上登录</h2>\r\n                        <Button type=\"warning\" inline onClick={this.handleGotoLogin}>我要登录</Button>\r\n                    </div>\r\n                }\r\n                \r\n                <div>mobx-----demo---count{demo.count}------计算属性--{newCount}</div>\r\n                <div>city==={city}</div>\r\n                <div>input==={msg}</div>\r\n                <hr/>\r\n                <Button type=\"warning\" inline onClick={countAdd}>count add</Button>\r\n                <Button type=\"warning\" inline onClick={()=>countDesc(50)}>减</Button>\r\n                 <p>\r\n                     <input type=\"text\" value={msg} onChange={(e)=>changeMsg(e.target.value)}></input>\r\n                 </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Mine;","import \"./index.scss\";\r\n\r\nimport React, {Component} from \"react\"\r\nimport {\r\n    NavBar,\r\n    Icon,\r\n    Popover,\r\n    ActionSheet\r\n\r\n} from \"antd-mobile\";\r\nimport {history} from \"&\"\r\n\r\n\r\nexport default class Head extends Component{\r\n\r\n    handleGoBack(show){\r\n         history.go(-1);\r\n    }\r\n    handleGoSearch(){\r\n        history.push(\"/search\");\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            title,\r\n            show,\r\n            search\r\n        }=this.props;\r\n        return (\r\n            <div>\r\n                <NavBar\r\n                mode=\"light\"\r\n                icon={show&&<Icon type=\"left\" />}\r\n                onLeftClick={() =>this.handleGoBack(show)}\r\n                rightContent={[\r\n                    !search&&<Icon onClick={this.handleGoSearch} key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                    <Pop scan={this.props.scan} login={this.props.login} key={1} />,\r\n                ]}\r\n                >{title}</NavBar>\r\n                 \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Item=Popover.Item;\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\nclass Pop extends Component{\r\n    state={\r\n        visible:false\r\n    }\r\n    handleVisibleChange=(visible)=>{\r\n        this.setState({\r\n            visible\r\n        })\r\n    }\r\n    onSelect = (opt) => {\r\n         console.log(opt.props.value);\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n\r\n        if(opt.props.value==\"login\"){\r\n            history.push(\"/login\")\r\n        }else if(opt.props.value==\"scan\"){\r\n            history.push(\"/scan\")\r\n        }else{\r\n            this.showActionSheet();\r\n        }\r\n    }\r\n\r\n    showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '从手机相册选择', '使用相机拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: 'I am description, description, description',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps:{  //阻止浏览器的默认事件\r\n            onTouchStart: e => e.preventDefault(),\r\n          }\r\n        },\r\n        (buttonIndex) => {\r\n         console.log(buttonIndex)\r\n        });\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        const {\r\n            scan,\r\n            login\r\n        }=this.props; \r\n        return(\r\n            <Popover\r\n                mask  //遮罩层\r\n                overlayClassName=\"fortest\"\r\n                overlayStyle={{ color: 'currentColor' }}\r\n                visible={this.state.visible}\r\n                overlay={[\r\n                    (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                    (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                    (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                      <span style={{ marginRight: 5 }}>登录</span>\r\n                    </Item>),\r\n                  ]}\r\n                  align={{\r\n                    overflow: { adjustY: 0, adjustX: 0 },\r\n                    offset: [-10, 0],\r\n                  }}\r\n                  onVisibleChange={this.handleVisibleChange}\r\n                  onSelect={this.onSelect}\r\n            >\r\n\r\n                  <Icon type=\"ellipsis\" />\r\n            </Popover>\r\n        )\r\n    }\r\n}","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../icon/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nfunction isString(str) {\n    return typeof str === 'string';\n}\n// Insert one space between two chinese characters automatically.\nfunction insertSpace(child) {\n    if (isString(child.type) && isTwoCNChar(child.props.children)) {\n        return React.cloneElement(child, {}, child.props.children.split('').join(' '));\n    }\n    if (isString(child)) {\n        if (isTwoCNChar(child)) {\n            child = child.split('').join(' ');\n        }\n        return React.createElement(\n            'span',\n            null,\n            child\n        );\n    }\n    return child;\n}\n\nvar Button = function (_React$Component) {\n    (0, _inherits3['default'])(Button, _React$Component);\n\n    function Button() {\n        (0, _classCallCheck3['default'])(this, Button);\n        return (0, _possibleConstructorReturn3['default'])(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(Button, [{\n        key: 'render',\n        value: function render() {\n            var _classnames;\n\n            var _a = this.props,\n                children = _a.children,\n                className = _a.className,\n                prefixCls = _a.prefixCls,\n                type = _a.type,\n                size = _a.size,\n                inline = _a.inline,\n                disabled = _a.disabled,\n                icon = _a.icon,\n                loading = _a.loading,\n                activeStyle = _a.activeStyle,\n                activeClassName = _a.activeClassName,\n                onClick = _a.onClick,\n                restProps = __rest(_a, [\"children\", \"className\", \"prefixCls\", \"type\", \"size\", \"inline\", \"disabled\", \"icon\", \"loading\", \"activeStyle\", \"activeClassName\", \"onClick\"]);\n            var iconType = loading ? 'loading' : icon;\n            var wrapCls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-primary', type === 'primary'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-ghost', type === 'ghost'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-warning', type === 'warning'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', size === 'small'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-inline', inline), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-loading', loading), (0, _defineProperty3['default'])(_classnames, prefixCls + '-icon', !!iconType), _classnames));\n            var kids = React.Children.map(children, insertSpace);\n            var iconEl = void 0;\n            if (typeof iconType === 'string') {\n                iconEl = React.createElement(_icon2['default'], { 'aria-hidden': 'true', type: iconType, size: size === 'small' ? 'xxs' : 'md', className: prefixCls + '-icon' });\n            } else if (iconType) {\n                var rawCls = iconType.props && iconType.props.className;\n                var cls = (0, _classnames3['default'])('am-icon', prefixCls + '-icon', size === 'small' ? 'am-icon-xxs' : 'am-icon-md');\n                iconEl = React.cloneElement(iconType, {\n                    className: rawCls ? rawCls + ' ' + cls : cls\n                });\n            }\n            // use div, button native is buggy @yiminghe\n            return React.createElement(\n                _rmcFeedback2['default']\n                // tslint:disable-next-line:jsx-no-multiline-js\n                ,\n                { activeClassName: activeClassName || (activeStyle ? prefixCls + '-active' : undefined), disabled: disabled, activeStyle: activeStyle },\n                React.createElement(\n                    'a',\n                    (0, _extends3['default'])({ role: 'button', className: wrapCls }, restProps, { onClick: disabled ? undefined : onClick, 'aria-disabled': disabled }),\n                    iconEl,\n                    kids\n                )\n            );\n        }\n    }]);\n    return Button;\n}(React.Component);\n\nButton.defaultProps = {\n    prefixCls: 'am-button',\n    size: 'large',\n    inline: false,\n    disabled: false,\n    loading: false,\n    activeStyle: {}\n};\nexports['default'] = Button;\nmodule.exports = exports['default'];"],"sourceRoot":""}