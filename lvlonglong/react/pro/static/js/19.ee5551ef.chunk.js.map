{"version":3,"sources":["scripts/views/home/index.js","scripts/components/head/index.js","scripts/actions/index.js"],"names":["Home","connect","state","count","getIn","banner","props","this","length","dispatch","getBanner","url","cb","console","log","title","autoplay","infinite","map","item","index","to","key","style","display","width","height","imgHeight","src","poster","alt","verticalAlign","onLoad","window","dispatchEvent","Event","defaultActiveKey","className","onChange","Panel","header","Item","onClick","changeCount","Component","Head","show","history","go","push","search","mode","icon","type","onLeftClick","handleGoBack","rightContent","handleGoSearch","marginRight","Pop","scan","login","myImg","visible","handleVisibleChange","setState","onSelect","opt","value","selected","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","destructiveButtonIndex","message","maskClosable","wrapProps","onTouchStart","e","preventDefault","buttonIndex","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","payload","a","async","axios","get","res","data","result","getGoodList","params","getGoodType","changeGoodListReverse","getSearchList","changeSearchListReverse"],"mappings":"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","file":"static/js/19.ee5551ef.chunk.js","sourcesContent":["import \"./index.scss\"\r\nimport React, {Component} from \"react\"\r\nimport Head from \"~/components/head\";\r\nimport {axios} from \"&\";\r\n\r\nimport {\r\n    WingBlank,\r\n    WhiteSpace,\r\n    Carousel,\r\n    List,\r\n    Accordion\r\n} from \"antd-mobile\";\r\n\r\nimport {Link} from \"react-router-dom\"\r\nimport {connect} from \"react-redux\"\r\nimport {changeCount,getBanner} from \"../../actions\"\r\n\r\n\r\n\r\n@connect(\r\n    state=>{\r\n        return{\r\n            count:state.getIn(['data','count']),\r\n            banner:state.getIn(['data','banner'])\r\n        }\r\n    }\r\n)\r\nclass Home extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            banner:[]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // axios.get(\"/vue/maizuo/banner\").then(res=>{\r\n        //     console.log(res);\r\n        //     this.setState({\r\n        //         banner:res.data.result.data\r\n        //     })\r\n        // })\r\n        if(!this.props.banner.length>0){\r\n            this.props.dispatch(getBanner({\r\n                url:\"/vue/maizuo/mv\",\r\n                cb(){\r\n                 \r\n                }\r\n            }))\r\n        }\r\n    }\r\n    render(){\r\n        // const {\r\n        //     banner\r\n        // }=this.state;\r\n        const {\r\n            count,\r\n            dispatch,\r\n            banner\r\n\r\n        }=this.props;\r\n        console.log(this.props)\r\n        return (\r\n            <div>\r\n               <Head title=\"首页\"></Head>\r\n            \r\n                   <WhiteSpace />\r\n                   <Carousel\r\n                    autoplay={true}\r\n                    infinite\r\n                   >\r\n                       {\r\n                           banner.map((item,index)=>{\r\n                               return(\r\n                                <Link \r\n                                to=\"/\" \r\n                                key={index}\r\n                                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\r\n                                >\r\n                                     <img src={item.poster}\r\n                                     alt=\"\"\r\n                                     style={{ width: '100%',height:300 , verticalAlign: 'top' }}\r\n                                     onLoad={() => {\r\n                                       // fire window resize event to change height\r\n                                       window.dispatchEvent(new Event('resize'));\r\n                                        \r\n                                     }}\r\n                                     />\r\n                                </Link>\r\n                               )\r\n                           }) \r\n                       }\r\n                   </Carousel>    \r\n            \r\n               <Accordion defaultActiveKey=\"0\" className=\"my-accordion\" onChange={this.onChange}>\r\n                <Accordion.Panel header=\"Title 1\">\r\n                    <List className=\"my-list\">\r\n                    <List.Item onClick={()=>dispatch(changeCount(20))}>content 1 ----{count}</List.Item>\r\n                    <List.Item>content 2</List.Item>\r\n                    <List.Item>content 3</List.Item>\r\n                    </List>\r\n                </Accordion.Panel>\r\n                <Accordion.Panel header=\"Title 2\" className=\"pad\">this is panel content2 or other</Accordion.Panel>\r\n                <Accordion.Panel header=\"Title 3\" className=\"pad\">\r\n                    text text text text text text text text text text text text text text text\r\n                </Accordion.Panel>\r\n                </Accordion>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","import \"./index.scss\";\r\n\r\nimport React, {Component} from \"react\"\r\nimport {\r\n    NavBar,\r\n    Icon,\r\n    Popover,\r\n    ActionSheet\r\n\r\n} from \"antd-mobile\";\r\nimport {history} from \"&\"\r\n\r\n\r\nexport default class Head extends Component{\r\n\r\n    handleGoBack(show){\r\n         history.go(-1);\r\n    }\r\n    handleGoSearch(){\r\n        history.push(\"/search\");\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            title,\r\n            show,\r\n            search\r\n        }=this.props;\r\n        return (\r\n            <div>\r\n                <NavBar\r\n                mode=\"light\"\r\n                icon={show&&<Icon type=\"left\" />}\r\n                onLeftClick={() =>this.handleGoBack(show)}\r\n                rightContent={[\r\n                    !search&&<Icon onClick={this.handleGoSearch} key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                    <Pop scan={this.props.scan} login={this.props.login} key={1} />,\r\n                ]}\r\n                >{title}</NavBar>\r\n                 \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Item=Popover.Item;\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\nclass Pop extends Component{\r\n    state={\r\n        visible:false\r\n    }\r\n    handleVisibleChange=(visible)=>{\r\n        this.setState({\r\n            visible\r\n        })\r\n    }\r\n    onSelect = (opt) => {\r\n         console.log(opt.props.value);\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n\r\n        if(opt.props.value==\"login\"){\r\n            history.push(\"/login\")\r\n        }else if(opt.props.value==\"scan\"){\r\n            history.push(\"/scan\")\r\n        }else{\r\n            this.showActionSheet();\r\n        }\r\n    }\r\n\r\n    showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '从手机相册选择', '使用相机拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: 'I am description, description, description',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps:{  //阻止浏览器的默认事件\r\n            onTouchStart: e => e.preventDefault(),\r\n          }\r\n        },\r\n        (buttonIndex) => {\r\n         console.log(buttonIndex)\r\n        });\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        const {\r\n            scan,\r\n            login\r\n        }=this.props; \r\n        return(\r\n            <Popover\r\n                mask  //遮罩层\r\n                overlayClassName=\"fortest\"\r\n                overlayStyle={{ color: 'currentColor' }}\r\n                visible={this.state.visible}\r\n                overlay={[\r\n                    (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                    (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                    (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                      <span style={{ marginRight: 5 }}>登录</span>\r\n                    </Item>),\r\n                  ]}\r\n                  align={{\r\n                    overflow: { adjustY: 0, adjustX: 0 },\r\n                    offset: [-10, 0],\r\n                  }}\r\n                  onVisibleChange={this.handleVisibleChange}\r\n                  onSelect={this.onSelect}\r\n            >\r\n\r\n                  <Icon type=\"ellipsis\" />\r\n            </Popover>\r\n        )\r\n    }\r\n}","import { func } from \"prop-types\";\r\nimport {axios} from \"&\"\r\n\r\nexport function changeCount(payload){\r\n        return{\r\n            type:'changeCount',\r\n            payload\r\n        }\r\n}\r\n\r\nexport async function getBanner({url,cb}){\r\n    const res=await axios.get(url);\r\n    cb()\r\n    return{\r\n        type:\"getBanner\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n\r\nexport async function getGoodList({url,params}){\r\n    const res=await axios.get(url,{params});\r\n    return{\r\n        type:\"getGoodList\",\r\n        payload:res.data.result\r\n      \r\n    }\r\n}\r\n\r\nexport async function getGoodType({url,params}){\r\n    const res=await axios.get(url,{params});\r\n    return{\r\n        type:\"getGoodType\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\nexport  function changeGoodListReverse(){\r\n    return{\r\n        type:\"changeGoodListReverse\"\r\n    }\r\n}\r\n\r\nexport async function getSearchList({url,params}){\r\n    const res=await axios.get(url,{params});\r\n    return{\r\n        type:\"getSearchList\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n \r\nexport  function changeSearchListReverse(){\r\n    return{\r\n        type:\"changeSearchListReverse\"\r\n    }\r\n}"],"sourceRoot":""}